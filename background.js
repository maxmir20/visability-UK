(()=>{"use strict";chrome.runtime.onInstalled.addListener(()=>{console.log("LinkedIn Company Checker extension installed")}),chrome.action.onClicked.addListener(e=>{chrome.action.setPopup({popup:"popup.html"})}),chrome.runtime.onMessage.addListener((e,o,t)=>{"updateBadge"===e.action&&(chrome.action.setBadgeText({text:e.text}),chrome.action.setBadgeBackgroundColor({color:e.color}))}),chrome.tabs.onUpdated.addListener((e,o,t)=>{"complete"===o.status&&t.url&&(t.url.includes("linkedin.com")||(console.log("Tab updated - clearing badge (not LinkedIn):",t.url),chrome.action.setBadgeText({text:""}),chrome.action.setBadgeBackgroundColor({color:""})))}),chrome.tabs.onActivated.addListener(e=>{console.log("Tab activated:",e),chrome.tabs.get(e.tabId,e=>{chrome.runtime.lastError?console.error("Error getting tab:",chrome.runtime.lastError):(console.log("Active tab URL:",e.url),e.url?.includes("linkedin.com")||(console.log("Switching to non-LinkedIn tab - clearing badge"),chrome.action.setBadgeText({text:""}),chrome.action.setBadgeBackgroundColor({color:""})))})})})();